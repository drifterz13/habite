<article
  class="container d-flex align-items-center flex-column h-100"
  data-controller="monster"
  data-monster-attacked-state-class="monster_image--attacked"
>
  <h3 class="d-flex align-items-center text-danger mb-0">
    <%= @monster.title %>
    <%= image_tag "icons/boss.png", class: "pixelated", size: "64x64", alt: "boss icon" %>
  </h3>

  <section class="mt-4 w-100 text-center">
    <% if @monster.present? %>
      <%= render "games/boss", monster: @monster %>
    <% else %>
      <% if @player.is_gm? && Monster.can_spawn? %>
        <%= button_to "Spawn Monster",
        gm_spawn_monster_path,
        method: :post,
        class: "btn btn-lg btn-primary" %>
      <% end %>
    <% end %>
  </section>

  <section class="row w-100">
    <%= render "games/rewards", rewards: @monster.rewards %>
  </section>

  <section class="mt-auto mb-4">
    <%= button_to attack_monster_path(@monster), 
      method: :post, 
      class: "atk-btn rounded-circle", 
      data: { monster_target: "atkButton", action: "click->monster#takeDamage" } do %>

      <div class="d-flex">
        <%= image_tag "icons/sword_atk.png",
        class: "pixelated m-auto",
        size: "64x64",
        alt: "sword attack icon" %>
      </div>
    <% end %>
  </section>
</article>
